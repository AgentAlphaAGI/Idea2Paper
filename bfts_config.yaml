# 任务数据目录路径
data_dir: "data"
preprocess_data: False

goal: null
eval: null

log_dir: logs
workspace_dir: workspaces

# 是否将数据复制到 workspace 目录（否则会用软链接）
# 建议开启复制，避免 agent 意外修改原始数据
copy_data: True

exp_name: run # 若未提供，将生成随机实验名称

# 代码执行相关配置
exec:
  timeout: 3600
  agent_file_name: runfile.py
  format_tb_ipython: False

generate_report: True
# 从 journal 生成最终报告的 LLM 配置
report:
  model: qwen-plus
  temp: 1.0

experiment:
  num_syn_datasets: 1

debug:
  stage4: False

# agent 超参数
agent:
  type: parallel
  num_workers: 4
  stages:
    stage1_max_iters: 18
    stage2_max_iters: 12
    stage3_max_iters: 12
    stage4_max_iters: 18
    # Stage policy knobs (defaults keep current behavior)
    max_main_stage: 4
    stage2_min_datasets: 1
    stage2_require_improvement_from_base: 0
    stage2_hf_new_datasets: 0
    stage3_hf_total_datasets: 0
  # 迭代改进的轮数
  steps: 5 # 若未提供分 stage 的 max_iters，则所有 stage 都使用该值
  # 是否让 agent 使用交叉验证（设置为 1 表示禁用）
  k_fold_validation: 1
  multi_seed_eval:
    num_seeds: 1 # 若 num_workers < 3，建议与 num_workers 相同；否则建议设为 3
  # 是否让 agent 生成预测函数
  expose_prediction: False
  # 是否给 agent 提供数据预览
  data_preview: False

  # 写代码用的 LLM 配置
  code:
    model: qwen-plus
    temp: 1.0
    max_tokens: 12000

  # 评估程序输出/报错堆栈用的 LLM 配置
  feedback:
    model: qwen-plus
    # gpt-4o（示例）
    temp: 0.5
    max_tokens: 8192

  vlm_feedback:
    model: qwen3-vl-plus
    temp: 0.5
    max_tokens: null

  search:
    max_debug_depth: 3
    debug_prob: 0.5
    num_drafts: 3

  # 用于“总结发现”与“选择最佳节点”的可选配置
  # 若不配置，则使用默认行为

  summary:
    model: qwen-plus
    temp: 0.3

  select_node:
    model: qwen-plus
    temp: 0.3
